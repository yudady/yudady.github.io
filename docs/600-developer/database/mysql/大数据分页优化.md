# 大数据分页优化

偏移量越大，查询速度越慢
1、第一种简单粗暴，就是不允许查看这么靠后的数据，比如百度就是这样的

2、第二种方法，在查询下一页时把上一页的行id作为参数传递给客户端程序，然后sql就改成了

> select * from table where id>3000000 limit 10;

3、最后第三种方法：延迟关联

玄机就处在这个 * 里面，这个表除了id主键肯定还有其他字段 比如 name age 之类的，因为select * 所以mysql在沿着id主键走的时候要回行拿数据，走一下拿一下数据；

如果把语句改成

> select id from table limit 3000000,10;

你会发现时间缩短了一半；然后我们在拿id分别去取10条数据就行了；

语句就改成这样了：

> select table.* from table inner join ( select id from table limit 3000000,10 ) as tmp on tmp.id=table.id;

以上SQL语句是一个不错的解决方法，分页查询的速度基本会保持在1秒之内，但据经验总结得出还有一种更好的办法，如下：

> SELECT * FROM table WHERE id BETWEEN 1000000 AND 1000010;